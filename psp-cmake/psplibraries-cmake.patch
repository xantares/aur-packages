diff --git a/patches/PSP.cmake b/patches/PSP.cmake
index 56666b5..c225a74 100644
--- a/patches/PSP.cmake
+++ b/patches/PSP.cmake
@@ -12,7 +12,7 @@ SET(CMAKE_EXECUTABLE_SUFFIX ".elf")
 
 # set find root path
 SET(CMAKE_FIND_ROOT_PATH "")
-FOREACH(i "--pspsdk-path" "--psp-prefix" "--pspdev-path")
+FOREACH(i "--pspsdk-path" "--psp-prefix")
   EXECUTE_PROCESS(
 	COMMAND "psp-config" ${i}
 	OUTPUT_VARIABLE output
@@ -27,14 +27,8 @@ SET(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
 SET(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
 SET(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
 
-# set install path
-EXECUTE_PROCESS(
-  COMMAND "psp-config" "--psp-prefix"
-  OUTPUT_VARIABLE CMAKE_INSTALL_PREFIX
-  OUTPUT_STRIP_TRAILING_WHITESPACE)
-
 # reduce link error
 ADD_DEFINITIONS("-G0")
 
 # linker flags
-LINK_LIBRARIES("-lpthread-psp -lc -lpspuser -lpspsdk -flto")
+LINK_LIBRARIES(pspdebug pspdisplay pspge pspsdk c pspuser)
diff --git a/patches/psp-cmake b/patches/psp-cmake
index 49573f1..c79d45f 100755
--- a/patches/psp-cmake
+++ b/patches/psp-cmake
@@ -1,9 +1,11 @@
 #!/bin/sh
 
 MODULE_PATH=$(psp-config --psp-prefix)/share/cmake-2.8/Modules
-
+psp_prefix=`psp-config --psp-prefix`
 
 cmake \
-	-D CMAKE_MODULE_PATH=$MODULE_PATH \
-	-D CMAKE_TOOLCHAIN_FILE=$MODULE_PATH/Platform/PSP.cmake \
-	$@
+  -DCMAKE_INSTALL_PREFIX:PATH=${psp_prefix} \
+  -DBUILD_SHARED_LIBS:BOOL=OFF \
+  -DCMAKE_MODULE_PATH=$MODULE_PATH \
+  -DCMAKE_TOOLCHAIN_FILE=$MODULE_PATH/Platform/PSP.cmake \
+  "$@"
diff --git a/scripts/cmake-toolchain-script.sh b/scripts/cmake-toolchain-script.sh
index ce3eb80..28295bb 100755
--- a/scripts/cmake-toolchain-script.sh
+++ b/scripts/cmake-toolchain-script.sh
@@ -1,10 +1,11 @@
 #!/bin/sh
 # cmake-toolchain-script.sh by take_cheeze (takechi101010@gmail.com)
-
-PSP_CMAKE_PATH=$(psp-config --pspdev-path)/bin/psp-cmake
-TOOLCHAIN_SCRIPT_PATH=$(psp-config --psp-prefix)/share/cmake-2.8/Modules/Platform
+DESTDIR=$1
+PSP_CMAKE_PATH=${DESTDIR}$(psp-config --pspdev-path)/bin
+TOOLCHAIN_SCRIPT_PATH=${DESTDIR}$(psp-config --psp-prefix)/share/cmake-2.8/Modules/Platform
 
 ## copy toolchain script and psp-cmake
-mkdir -p $TOOLCHAIN_SCRIPT_PATH
-cp ../patches/PSP.cmake $TOOLCHAIN_SCRIPT_PATH || { exit 1; }
-cp ../patches/psp-cmake $PSP_CMAKE_PATH || { exit 1; }
+install -d $TOOLCHAIN_SCRIPT_PATH
+install -m644 ../patches/PSP.cmake $TOOLCHAIN_SCRIPT_PATH || { exit 1; }
+install -d $PSP_CMAKE_PATH
+install -m755 ../patches/psp-cmake $PSP_CMAKE_PATH || { exit 1; }
